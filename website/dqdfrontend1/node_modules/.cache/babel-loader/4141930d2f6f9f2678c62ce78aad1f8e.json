{"remainingRequest":"F:\\FinalProject\\website\\dqdfrontend1\\node_modules\\babel-loader\\lib\\index.js!F:\\FinalProject\\website\\dqdfrontend1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\FinalProject\\website\\dqdfrontend1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\FinalProject\\website\\dqdfrontend1\\src\\pages\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\FinalProject\\website\\dqdfrontend1\\src\\pages\\login.vue","mtime":1616839459144},{"path":"F:\\FinalProject\\website\\dqdfrontend1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616816888650},{"path":"F:\\FinalProject\\website\\dqdfrontend1\\node_modules\\babel-loader\\lib\\index.js","mtime":1616816894684},{"path":"F:\\FinalProject\\website\\dqdfrontend1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616816888650},{"path":"F:\\FinalProject\\website\\dqdfrontend1\\node_modules\\vue-loader\\lib\\index.js","mtime":1616816893834}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"login\",\n  data: function data() {\n    return {\n      // 账号\n      account: \"\",\n      // 密码\n      password: \"\"\n    };\n  },\n  methods: {\n    // 密码输入框获取焦点\n    focusPassword: function focusPassword() {\n      this.$refs.password.focus();\n    },\n    // 登录\n    login: function login() {\n      var _this = this;\n\n      // 如果账号密码不符合规范\n      if (this.account === \"\" || this.password === \"\" || this.account.includes(\" \") || this.password.includes(\" \")) {\n        this.$message({\n          message: '请输入完整的账号和密码!',\n          type: 'warning',\n          duration: \"1500\"\n        });\n        return false;\n      } // this.$axios.post(\"login/Login.php\",{account:this.account,password:this.$md5(this.password)}).then((res)=>{\n      // \t// 如果账号密码正确\n      // \tconsole.log(res);\n      // \t// 存在且密码正确\n      // \tif(res.status==1)\n      // \t{\n      // \t\tthis.$router.push(\"/home\")\n      // \t}\n      // }).catch((err)=>{\n      // \tconsole.log(\"登录接口报错\",err);\n      // })\n\n\n      this.$axios.get(\"http://8.129.27.254:8000/checkmanageruser\", {\n        params: {\n          username: this.account,\n          pwd: this.password\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data == 1) {\n          //媒体账户\n          window.location.href = \"http://8.129.27.254/publish/editor.html\";\n        } else if (res.data == 0) {\n          //管理员\n          _this.$router.push(\"/home\");\n        } else {\n          //普通用户\n          _this.$message({\n            message: '没有权限进入后台',\n            type: 'warning',\n            duration: \"1500\"\n          });\n        }\n      }).catch(function (err) {\n        console.log(\"接口错误\", err);\n      });\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,OAAA,EAAA,EAFA;AAGA;AACA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,KAAA;AACA,KAJA;AAKA;AACA,IAAA,KANA,mBAMA;AAAA;;AACA;AACA,UAAA,KAAA,OAAA,KAAA,EAAA,IAAA,KAAA,QAAA,KAAA,EAAA,IAAA,KAAA,OAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,KAAA,QAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EACA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,cADA;AAEA,UAAA,IAAA,EAAA,SAFA;AAGA,UAAA,QAAA,EAAA;AAHA,SAAA;AAKA,eAAA,KAAA;AACA,OAVA,CAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,2CAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,QAAA,EAAA,KAAA,OAAA;AAAA,UAAA,GAAA,EAAA,KAAA;AAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,yCAAA;AACA,SAHA,MAGA,IAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,SAHA,MAGA;AACA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,UADA;AAEA,YAAA,IAAA,EAAA,SAFA;AAGA,YAAA,QAAA,EAAA;AAHA,WAAA;AAKA;AACA,OAhBA,EAgBA,KAhBA,CAgBA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,GAAA;AACA,OAlBA;AAmBA;AA/CA;AAVA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"middle\">\r\n\t\t<!-- 欢迎登录 -->\r\n\t\t<div style=\"text-align: center;\">\r\n\t\t\t<img src=\"../assets/welcome.png\" style=\"width: 153px;height: 32px;margin-top: 50px; margin-right: 200px;\"/>\r\n\t\t</div>\r\n\t\t<!-- 输入账号 -->\r\n\t\t<div class=\"login_input_outer\" style=\"margin-top: 80px;\">\r\n\t\t\t<i class=\"el-icon-user login_icon\" ></i>\r\n\t\t\t<el-input ref='account' class=\"login_input_inner\" v-model=\"account\" placeholder=\"请输入您的用户名\"\r\n\t\t\t\t\t\t@keyup.enter.native=\"focusPassword\" type=\"text\" v-on:keyup.enter=\"submit\"></el-input>\r\n\t\t</div>\r\n\t\t<!-- 输入密码 -->\r\n\t\t<div class=\"login_input_outer\" style=\"margin-top: 30px;\">\r\n\t\t\t<i  class=\"el-icon-lock login_icon\" ></i>\r\n\t\t\t<el-input ref='password' class=\"login_input_inner\" v-model=\"password\" placeholder=\"请输入密码\" type=\"password\"\r\n\t\t\t\t\t\t@keyup.enter.native=\"login\"></el-input>\r\n\t\t</div>\r\n\t\t<!-- 记住密码 -->\r\n\t\t<!-- <div class=\"login_input_outer\" style=\"margin-top: 30px;border: unset;justify-content: flex-end;height: 20px;\">\r\n\t\t\t<el-checkbox v-model=\"remember_password\" style=\"margin-top: -3px;\"></el-checkbox>\r\n\t\t\t<img style=\"width: 72px;height: 16px;margin-left: 5px;\" src=\"../assets/pic/login/remember.svg\" />\r\n\t\t</div> -->\r\n\t\t<!-- 登录按钮 -->\r\n\t\t<div @click=\"login\" class=\"login_input_outer\" style=\"cursor: pointer; margin-top: 30px;border: unset;background-color: #FFAB6B;height: 50px;border-radius: 5px;justify-content: center;\">\r\n\t\t\t<img style=\"width: 114px;height: 30px;\" src=\"../assets/login_button.svg\" />\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\texport default{\r\n\t\tname:\"login\",\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\t// 账号\r\n\t\t\t\taccount:\"\",\r\n\t\t\t\t// 密码\r\n\t\t\t\tpassword:\"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 密码输入框获取焦点\r\n\t\t\tfocusPassword(){\r\n\t\t\t\tthis.$refs.password.focus();\r\n\t\t\t},\r\n\t\t\t// 登录\r\n\t\t\tlogin(){\r\n\t\t\t\t// 如果账号密码不符合规范\r\n\t\t\t\tif(this.account===\"\"||this.password===\"\"||this.account.includes(\" \")||this.password.includes(\" \"))\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t  message: '请输入完整的账号和密码!',\r\n\t\t\t\t\t  type: 'warning',\r\n\t\t\t\t\t  duration:\"1500\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t// this.$axios.post(\"login/Login.php\",{account:this.account,password:this.$md5(this.password)}).then((res)=>{\r\n\t\t\t\t// \t// 如果账号密码正确\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// \t// 存在且密码正确\r\n\t\t\t\t// \tif(res.status==1)\r\n\t\t\t\t// \t{\r\n\t\t\t\t// \t\tthis.$router.push(\"/home\")\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }).catch((err)=>{\r\n\t\t\t\t// \tconsole.log(\"登录接口报错\",err);\r\n\t\t\t\t// })\r\n\t\t\t\tthis.$axios.get(\"http://8.129.27.254:8000/checkmanageruser\",{params:{username:this.account,pwd:this.password}}).then((res)=>{\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif(res.data==1){\r\n\t\t\t\t\t\t//媒体账户\r\n\t\t\t\t\t\twindow.location.href=\"http://8.129.27.254/publish/editor.html\"\r\n\t\t\t\t\t}else if(res.data==0){\r\n\t\t\t\t\t\t//管理员\r\n\t\t\t\t\t\tthis.$router.push(\"/home\")\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t//普通用户\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t  message: '没有权限进入后台',\r\n\t\t\t\t\t\t  type: 'warning',\r\n\t\t\t\t\t\t  duration:\"1500\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err)=>{\r\n\t\t\t\t\tconsole.log(\"接口错误\",err)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.middle{\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\twidth: 600px;\r\n\t\theight: 500px;\r\n\t\tmargin-top: -250px;\r\n\t\tmargin-left: -200px;\r\n\t\tdisplay: block; \r\n\t}\r\n\t.login_icon{\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #EAEAEA;\r\n\t}\r\n\t.login_input_outer{\r\n\t\twidth: 60%;\r\n\t\tborder-bottom: #EAEAEA solid 1px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.login_input_inner{\r\n\t\tborder: unset;\r\n\t\twidth: 400px;\r\n\t}\n</style>\n"],"sourceRoot":"src/pages"}]}